Physical Trough Solar Field
864
1241
61
GroupBox

1
7
Name
5
9
GroupBox1
X
3
9
Y
3
9
Width
3
404
Height
3
320
Caption
5
22
Solar Field Parameters
Bold
2
1
GroupBox

1
7
Name
5
9
GroupBox2
X
3
423
Y
3
9
Width
3
437
Height
3
320
Caption
5
19
Heat Transfer Fluid
Bold
2
1
GroupBox

1
7
Name
5
9
GroupBox3
X
3
9
Y
3
333
Width
3
850
Height
3
146
Caption
5
12
Design Point
Bold
2
1
GroupBox

1
7
Name
5
9
GroupBox4
X
3
9
Y
3
735
Width
3
850
Height
3
500
Caption
5
25
Single Loop Configuration
Bold
2
1
GroupBox

1
7
Name
5
9
GroupBox5
X
3
9
Y
3
558
Width
3
374
Height
3
110
Caption
5
14
Mirror Washing
Bold
2
1
GroupBox

1
7
Name
5
10
GroupBox51
X
3
9
Y
3
483
Width
3
850
Height
3
71
Caption
5
21
Collector Orientation
Bold
2
1
GroupBox

1
7
Name
5
11
GroupBox511
X
3
9
Y
3
675
Width
3
850
Height
3
53
Caption
5
9
Land Area
Bold
2
1
GroupBox

1
7
Name
5
9
GroupBox6
X
3
389
Y
3
558
Width
3
470
Height
3
110
Caption
5
19
Plant Heat Capacity
Bold
2
1
Numeric

1
16
Name
5
9
HDR_rough
X
3
246
Y
3
204
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
16
Name
5
8
I_bn_des
X
3
246
Y
3
276
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
11
Label

1
12
Name
5
6
Label1
X
3
24
Y
3
777
Width
3
815
Height
3
45
Caption
5
217
Usage tip:  To configure the loop, choose whether to edit SCAs, HCEs or defocus order.  Select assemblies by clicking one or dragging the mouse over multiple items. Assign types to selected items by pressing keys 1-4.
TextColour
4
255
128
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Label

1
12
Name
5
6
Label2
X
3
24
Y
3
756
Width
3
803
Height
3
21
Caption
5
64
The specification below is only for one loop in the solar field.
TextColour
4
255
128
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
12
Name
5
6
Label3
X
3
462
Y
3
522
Width
3
353
Height
3
21
Caption
5
37
Azimuth: equator=0, west=90, east=-90
TextColour
4
255
128
64
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
12
Name
5
7
Label31
X
3
462
Y
3
501
Width
3
353
Height
3
21
Caption
5
31
Tilt: horizontal=0, vertical=90
TextColour
4
255
128
64
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
12
Name
5
21
Label_cold_hdr_sizing
X
3
654
Y
3
255
Width
3
73
Height
3
24
Caption
5
12
Cold Headers
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
12
Name
5
20
Label_hot_hdr_sizing
X
3
750
Y
3
255
Width
3
73
Height
3
24
Caption
5
11
Hot Headers
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Numeric

1
16
Name
5
12
Row_Distance
X
3
246
Y
3
108
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
16
Name
5
4
T_fp
X
3
246
Y
3
252
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
10
Numeric

1
16
Name
5
13
T_loop_in_des
X
3
654
Y
3
108
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
16
Name
5
10
T_loop_out
X
3
654
Y
3
132
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
17
Numeric

1
16
Name
5
14
V_hdr_cold_max
X
3
654
Y
3
300
Width
3
65
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
25
Numeric

1
16
Name
5
14
V_hdr_cold_min
X
3
654
Y
3
276
Width
3
65
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
23
Numeric

1
16
Name
5
13
V_hdr_hot_max
X
3
750
Y
3
300
Width
3
65
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
26
Numeric

1
16
Name
5
13
V_hdr_hot_min
X
3
750
Y
3
276
Width
3
65
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
24
Numeric

1
16
Name
5
7
azimuth
X
3
243
Y
3
525
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
37
Choice

1
8
Name
5
17
combo_FieldConfig
X
3
246
Y
3
180
Width
3
100
Height
3
21
Items
6
6
2
4
6
8
10
12
Selection
3
4294967295
TabOrder
3
7
Choice

1
8
Name
5
13
combo_feather
X
3
270
Y
3
300
Width
3
118
Height
3
21
Items
6
2
Sequenced
Simultaneous
Selection
3
0
TabOrder
3
13
Choice

1
8
Name
5
14
combo_htf_type
X
3
654
Y
3
30
Width
3
124
Height
3
21
Items
6
10
Solar Salt
Caloria
Hitec XL
VP-1
Hitec
Dowtherm Q
Dowtherm RP
Therminol 59
Therminol 66
User-defined...
Selection
3
4294967295
TabOrder
3
14
Numeric

1
16
Name
5
8
eta_pump
X
3
246
Y
3
228
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
9
MaterialProperties

1
6
Name
5
14
field_fl_props
X
3
786
Y
3
27
Width
3
59
Height
3
27
TabOrder
3
15
Numeric

1
16
Name
5
28
field_htf_max_operating_temp
X
3
654
Y
3
84
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
16
Name
5
28
field_htf_min_operating_temp
X
3
654
Y
3
60
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
16
Name
5
20
field_thermal_output
X
3
654
Y
3
426
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
35
Numeric

1
16
Name
5
15
fixed_land_area
X
3
120
Y
3
696
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
46
CheckBox

1
8
Name
5
6
fthrok
X
3
246
Y
3
300
Width
3
23
Height
3
21
Caption
5
0
State
2
0
TabOrder
3
12
Numeric

1
16
Name
5
23
loop_optical_efficiency
X
3
246
Y
3
375
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
28
Numeric

1
16
Name
5
12
m_dot_htfmax
X
3
654
Y
3
180
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
19
Numeric

1
16
Name
5
12
m_dot_htfmin
X
3
654
Y
3
156
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
18
Numeric

1
16
Name
5
23
max_field_flow_velocity
X
3
654
Y
3
228
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
21
Numeric

1
16
Name
5
11
mc_bal_cold
X
3
633
Y
3
606
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
44
Numeric

1
16
Name
5
10
mc_bal_hot
X
3
633
Y
3
582
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
43
Numeric

1
16
Name
5
10
mc_bal_sca
X
3
633
Y
3
630
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
45
Numeric

1
16
Name
5
23
min_field_flow_velocity
X
3
654
Y
3
204
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
20
Numeric

1
16
Name
5
6
nLoops
X
3
654
Y
3
354
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
32
Numeric

1
16
Name
5
36
non_solar_field_land_area_multiplier
X
3
501
Y
3
696
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
47
RadioChoice

1
10
Name
5
16
radio_sm_or_area
X
3
24
Y
3
30
Width
3
95
Height
3
50
Selection
3
0
Items
6
2
Option 1:
Option 2:
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
1
Numeric

1
16
Name
5
32
required_number_of_loops_for_SM1
X
3
246
Y
3
447
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
31
Numeric

1
16
Name
5
21
single_loop_aperature
X
3
246
Y
3
351
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
27
Numeric

1
16
Name
5
10
solar_mult
X
3
654
Y
3
402
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
34
Numeric

1
16
Name
5
24
specified_solar_multiple
X
3
246
Y
3
30
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
16
Name
5
24
specified_total_aperture
X
3
246
Y
3
54
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
16
Name
5
9
theta_dep
X
3
246
Y
3
156
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
16
Name
5
10
theta_stow
X
3
246
Y
3
132
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
16
Name
5
4
tilt
X
3
243
Y
3
501
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
36
Numeric

1
16
Name
5
14
total_aperture
X
3
654
Y
3
378
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
33
Numeric

1
16
Name
5
15
total_land_area
X
3
714
Y
3
696
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
48
Numeric

1
16
Name
5
32
total_loop_conversion_efficiency
X
3
246
Y
3
399
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
29
Numeric

1
16
Name
5
31
total_required_aperture_for_SM1
X
3
246
Y
3
423
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
30
TroughLoop

1
5
Name
5
19
trough_loop_control
X
3
24
Y
3
819
Width
3
815
Height
3
403
Numeric

1
16
Name
5
17
washing_frequency
X
3
195
Y
3
618
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
42
Numeric

1
16
Name
5
20
water_usage_per_wash
X
3
195
Y
3
594
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
41

85
DISCARD_UNUSED_latitude
3
1
Site latitude
deg
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Default
D_cpnt
3
3
Interconnect component diameters
m
Physical Trough Solar Field
0
2
1
3
1
1
0.000000
Default
FieldConfig
3
1
 
 
 
0
8
1
1
1
1
0.000000
Default
Fluid
3
1
 
 
 
0
8
1
1
1
1
18.000000
Default
HDR_rough
3
1
Header pipe roughness
m
Physical Trough Solar Field
0
2
1
1
1
1
0.000046
Numeric
I_bn_des
3
1
Irradiation at design
W/m²
Physical Trough Solar Field
0
2
1
1
1
1
950.000000
Numeric
K_cpnt
3
3
Interconnect component minor loss coefficients
-
Physical Trough Solar Field
0
2
1
3
1
1
0.000000
Default
L_cpnt
3
3
Interconnect component lengths
m
Physical Trough Solar Field
0
2
1
3
1
1
0.000000
Default
L_rnr_pb
3
1
Length of runner pipe in pb
m
Physical Trough Solar Field
0
2
1
1
1
1
25.000000
Numeric
L_rnr_per_xpan
3
1
Threshold length of straight runner pipe without an expansion loop
m
Physical Trough Solar Field
0
2
1
1
1
1
70.000000
Numeric
L_xpan_hdr
3
1
Combined perpendicular lengths of each header expansion loop
m
Physical Trough Solar Field
0
2
1
1
1
1
20.000000
Numeric
L_xpan_rnr
3
1
Combined perpendicular lengths of each runner expansion loop
m
Physical Trough Solar Field
0
2
1
1
1
1
20.000000
Numeric
Min_rnr_xpans
3
1
Minimum number of expansion loops per single-diameter runner section
-
Physical Trough Solar Field
0
2
1
1
1
1
1.000000
Numeric
N_hdr_per_xpan
3
1
Number of collector loops per expansion loop
-
Physical Trough Solar Field
0
2
1
1
1
1
2.000000
Numeric
N_max_hdr_diams
3
1
Max header diameters
-
Physical Trough Solar Field
0
2
1
1
1
1
10.000000
Numeric
Row_Distance
3
1
Row spacing
m
Physical Trough Solar Field
0
2
1
1
1
1
15.000000
Numeric
SolarAz
3
1
Initial condition for solar azimuth angle
 
 
0
9
1
1
1
1
0.000000
Default
T_fp
3
1
Freeze protection temp
°C
Physical Trough Solar Field
0
2
1
1
1
1
50.000000
Numeric
T_loop_in_des
3
1
Design loop inlet temp
°C
Physical Trough Solar Field
0
2
1
1
1
1
293.000000
Numeric
T_loop_out
3
1
Design loop outlet temp
°C
Physical Trough Solar Field
0
2
1
1
1
1
391.000000
Numeric
Type_cpnt
3
3
Interconnect component type
-
Physical Trough Solar Field
0
2
1
3
1
1
0.000000
Default
V_hdr_cold_max
3
1
Header design max flow velocity
m/s
Physical Trough Solar Field
0
2
1
1
1
1
3.000000
Numeric
V_hdr_cold_min
3
1
Header design min flow velocity
m/s
Physical Trough Solar Field
0
2
1
1
1
1
2.000000
Numeric
V_hdr_hot_max
3
1
 
m/s
Physical Trough Solar Field
0
2
1
1
1
1
3.000000
Numeric
V_hdr_hot_min
3
1
 
m/s
Physical Trough Solar Field
0
2
1
1
1
1
2.000000
Numeric
accept_init
3
1
In acceptance testing mode - require steady-state startup
 
 
0
8
1
1
1
1
0.000000
Default
accept_loc
3
1
In acceptance testing mode - temperature sensor location (1=hx,2=loop)
 
 
0
8
1
1
1
1
1.000000
Default
accept_mode
3
1
Acceptance testing mode? (1=yes, 0=no)
 
 
0
8
1
1
1
1
0.000000
Default
azimuth
3
1
Collector azimuth
deg
Physical Trough Solar Field
0
2
1
1
1
1
0.000000
Numeric
calc_design_pipe_vals
3
1
Calculate temps and pressures at design conditions for runners and headers
-
Physical Trough Solar Field
0
2
1
1
1
1
1.000000
Default
combo_FieldConfig
3
1
Number of field subsections
 
Physical Trough Solar Field
13
2|4|6|8|10|12
2
1
1
1
1
0.000000
Choice
combo_feather
3
1
Defocusing strategy
 
Physical Trough Solar Field
22
Sequenced|Simultaneous
3
1
1
1
1
1.000000
Choice
combo_htf_type
3
1
Field HTF fluid
 
Physical Trough Solar Field
125
Hitec Solar Salt|Caloria HT 43|Hitec XL|Therminol VP-1|Hitec|Dowtherm Q|Dowtherm RP|Therminol 59|Therminol 66|User-defined...
2
1
1
1
1
3.000000
Choice
cspdtr_loop_hce_heat_loss
3
1
Loop receiver heat loss
 
 
0
9
1
1
1
1
1.000000
Default
custom_sf_pipe_sizes
3
1
Use custom solar field pipe diams, wallthks, and lengths
-
Physical Trough Solar Field
0
2
1
1
1
1
0.000000
Default
eta_pump
3
1
HTF pump efficiency
 
Physical Trough Solar Field
0
2
1
1
1
1
0.850000
Numeric
field_fl_props
3
3
 
 
 
0
0
1
3
1
9
1.000000 7.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 

Default
field_htf_cp_avg
3
1
field htf spec heat at avg T
kJ/kg-K
 
0
8
1
1
1
1
0.000000
Default
field_htf_max_operating_temp
3
1
Field HTF max operating temp
°C
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
field_htf_min_operating_temp
3
1
Field HTF min operating temp
°C
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
field_thermal_output
3
1
Field thermal output
MWt
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
fixed_land_area
3
1
Solar field area
acres
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
fluid_dens_inlet_temp
3
1
 
 
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Default
fluid_dens_outlet_temp
3
1
 
 
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Default
fthrctrl
3
1
Defocusing strategy input
 
 
0
8
1
1
1
1
0.000000
Default
fthrok
3
1
Allow partial defocusing
 
Physical Trough Solar Field
0
2
1
1
1
1
1.000000
CheckBox
loop_optical_efficiency
3
1
Loop optical efficiency
 
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
m_dot_htfmax
3
1
Max single loop flow rate
kg/s
Physical Trough Solar Field
0
2
1
1
1
1
12.000000
Numeric
m_dot_htfmin
3
1
Min single loop flow rate
kg/s
Physical Trough Solar Field
0
2
1
1
1
1
0.200000
Numeric
max_field_flow_velocity
3
1
Max field flow velocity
m/s
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
mc_bal_cold
3
1
Cold piping thermal inertia
kWht/K-MWt
Physical Trough Solar Field
0
2
1
1
1
1
0.200000
Numeric
mc_bal_hot
3
1
Hot piping thermal inertia
kWht/K-MWt
Physical Trough Solar Field
0
2
1
1
1
1
0.200000
Numeric
mc_bal_sca
3
1
Field loop piping thermal inertia
Wht/K-m
Physical Trough Solar Field
0
2
1
1
1
1
4.500000
Numeric
min_field_flow_velocity
3
1
Min field flow velocity
m/s
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
min_inner_diameter
3
1
Minimum absorber inner diameter in loop
 
 
0
9
1
1
1
1
0.066000
Default
nLoops
3
1
Actual number of loops
 
Physical Trough Solar Field
0
8
1
1
1
1
8.000000
Numeric
nSCA
3
1
Number of assemblies per loop
 
 
0
9
1
1
1
1
8.000000
Default
non_solar_field_land_area_multiplier
3
1
Non-solar field land area multiplier
 
Physical Trough Solar Field
0
2
1
1
1
1
1.400000
Numeric
northsouth_field_sep
3
1
North/south separation between subfields. 0 = SCAs are touching
m
Physical Trough Solar Field
0
2
1
1
1
1
20.000000
Numeric
object 11
3
1
 
 
 
0
0
1
1
1
1
0.000000
Numeric
offset_xpan_hdr
3
1
Location of first header expansion loop. 1 = after first collector loop
-
Physical Trough Solar Field
0
2
1
1
1
1
1.000000
Numeric
radio_sm_or_area
3
1
Solar field mode (0=SM, 1=area)
 
Physical Trough Solar Field
0
9
1
1
1
1
0.000000
RadioChoice
required_number_of_loops_for_SM1
3
1
Required number of loops, SM=1
 
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
sf_hdr_diams
3
2
Custom header diameters
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_hdr_lengths
3
2
Custom header lengths
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_hdr_wallthicks
3
2
Custom header wall thicknesses
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_rnr_diams
3
2
Custom runner diameters
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_rnr_lengths
3
2
Custom runner lengths
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_rnr_wallthicks
3
2
Custom runner wall thicknesses
m
Physical Trough Solar Field
0
2
1
2
1
1
-1.000000
Default
sf_type
3
1
Solar field type, 1 = trough, 2 = tower
1/2
 
0
9
1
1
1
1
1.000000
Default
single_loop_aperature
3
1
Single loop aperture
m²
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
solar_mult
3
1
Actual solar multiple
 
Physical Trough Solar Field
0
8
1
1
1
1
2.000000
Numeric
specified_solar_multiple
3
1
Solar multiple
 
Physical Trough Solar Field
0
2
1
1
1
1
2.000000
Numeric
specified_total_aperture
3
1
Field aperture
m²
Physical Trough Solar Field
0
2
1
1
1
1
877000.000000
Numeric
theta_dep
3
1
Deploy angle
deg
Physical Trough Solar Field
0
2
1
1
1
1
10.000000
Numeric
theta_stow
3
1
Stow angle
deg
Physical Trough Solar Field
0
2
1
1
1
1
170.000000
Numeric
tilt
3
1
Collector tilt
deg
Physical Trough Solar Field
0
2
1
1
1
1
0.000000
Numeric
total_aperture
3
1
Total aperture reflective area
m²
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
total_land_area
3
1
Total land area
acres
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
total_loop_conversion_efficiency
3
1
Total loop conversion efficiency
 
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
total_required_aperture_for_SM1
3
1
Total required aperture, SM=1
m²
Physical Trough Solar Field
0
8
1
1
1
1
0.000000
Numeric
track_mode
3
1
 
 
 
0
8
1
1
1
1
1.000000
Default
trough_loop_control
3
2
Configuration of collector assemblies in loop array
 
Physical Trough Solar Field
0
9
1
2
1
25
8.000000 1.000000 1.000000 8.000000 1.000000 1.000000 7.000000 1.000000 1.000000 6.000000 1.000000 1.000000 5.000000 1.000000 1.000000 4.000000 1.000000 1.000000 3.000000 1.000000 1.000000 2.000000 1.000000 1.000000 1.000000 

TroughLoop
washing_frequency
3
1
Washes per year
 
Physical Trough Solar Field
0
2
1
1
1
1
63.000000
Numeric
water_usage_per_wash
3
1
Water usage per wash
L/m²,aper.
Physical Trough Solar Field
0
2
1
1
1
1
0.275000
Numeric

6756
/*
Doesn't work to create functions in 'equations' section
cspdtr_solf_userhtf_dens = define(tempC) {
	return tempC *10;
};
*/
equations{ 'defocus' } = define() {
	// setting the default and setting this value in the 'on_load' event don't
	// work for some reason.  this has to be set here, on it's own.
	return 1;
};

equations{ 'max_field_flow_velocity' } = define() {
	return ${m_dot_htfmax}*4/(${fluid_dens_outlet_temp} * pi() * 
				pow( ${min_inner_diameter},2) );
};

equations{ 'min_field_flow_velocity' } = define() {
	return ${m_dot_htfmin}*4/(${fluid_dens_inlet_temp} * pi() * 
				pow(${min_inner_diameter},2) );
};

equations{ 'fthrctrl' } = define() {
	return ${combo_feather}+1;
};

equations{ 'field_htf_cp_avg' } = define() {
	if (${combo_htf_type} < 9 )
		return substance_specific_heat( ${Fluid}, 0.5*(${T_loop_in_des}+${T_loop_out}) );
	else
		return substance_userhtf(${field_fl_props},0.5*(${T_loop_in_des}+${T_loop_out}),"specific heat"); 
		//return cspdtr_tes_userhtf( 1, 0.5*(${T_loop_in_des}+${T_loop_out}) );
};

equations{ 'FieldConfig' } = define() {
	return 2 * (${combo_FieldConfig}+1);
};

equations{ 'Fluid' } = define() {
	return ?${combo_htf_type}
	[
		18, //    18.) Nitrate Salt**
		19, //    19.) Caloria HT 43**
		20, //    20.) Hitec XL**
		21, //    21.) Therminol VP-1**
		22, //    22.) Hitec**
		23, //    23.) Dowtherm Q**
		24, //    24.) Dowtherm RP**
		30, //    30.) Therminol 59
		29, //    29.) Therminol 66    
		50  //    user defined HTF
	];
};

equations{ 'min_inner_diameter' } = define() {
	aLoopCtl = ${trough_loop_control};
	
	diam_inputs[0] = ${csp_dtr_hce_diam_absorber_inner_1};
	diam_inputs[1] = ${csp_dtr_hce_diam_absorber_inner_2};
	diam_inputs[2] = ${csp_dtr_hce_diam_absorber_inner_3};
	diam_inputs[3] = ${csp_dtr_hce_diam_absorber_inner_4};

	minval = diam_inputs[0];

	for (i=0; i<aLoopCtl[0]; i++)
	{
		hce_t = min(max(aLoopCtl[i*3+2],1),4) - 1;
		if (diam_inputs[hce_t]<minval)
			minval = diam_inputs[hce_t];
	}
	
	return minval;
};

equations{ 'nLoops' } = define() {
	retval = (?${radio_sm_or_area}
	[
		${specified_solar_multiple}*${total_required_aperture_for_SM1},
		${specified_total_aperture}
	]
	/ ${single_loop_aperature}  );
	return ceil(retval); // SAMwx used "@round" here
};

equations{ 'single_loop_aperature' } = define() {
	aLoop = ${trough_loop_control};
	nsca = aLoop[0];
	sca_ap[0] = ${csp_dtr_sca_aperture_1};
	sca_ap[1] = ${csp_dtr_sca_aperture_2};
	sca_ap[2] = ${csp_dtr_sca_aperture_3};
	sca_ap[3] = ${csp_dtr_sca_aperture_4};

	total_ap = 0;
	for (i=0;i<nsca;i++)
	{
		sca_t = min(max(aLoop[1+i*3],1),4) - 1;
		total_ap = total_ap + sca_ap[ sca_t ];
	}

	return total_ap;
};

// loop heat loss for total loop conversion efficiency
equations{ 'cspdtr_loop_hce_heat_loss' } = define() {
	aLoopCtl = ${trough_loop_control};
	ncol = aLoopCtl[0];
	
	total_len = 0;
	ibn = ${I_bn_des};

	hce_hl[0] = ${csp_dtr_hce_design_heat_loss_1};
	hce_hl[1] = ${csp_dtr_hce_design_heat_loss_2};
	hce_hl[2] = ${csp_dtr_hce_design_heat_loss_3};
	hce_hl[3] = ${csp_dtr_hce_design_heat_loss_4};

	sca_len[0] = ${csp_dtr_sca_length_1};
	sca_len[1] = ${csp_dtr_sca_length_2};
	sca_len[2] = ${csp_dtr_sca_length_3};
	sca_len[3] = ${csp_dtr_sca_length_4};

	sca_ap[0] = ${csp_dtr_sca_aperture_1};
	sca_ap[1] = ${csp_dtr_sca_aperture_2};
	sca_ap[2] = ${csp_dtr_sca_aperture_3};
	sca_ap[3] = ${csp_dtr_sca_aperture_4};

	derate = 0;
	for (i=0;i<ncol;i++)
	{
		sca_t = min(max(aLoopCtl[1+i*3],1),4) - 1;
		hce_t = min(max(aLoopCtl[2+i*3],1),4) - 1;
		total_len = total_len + sca_len[ sca_t ];
		derate = derate + sca_len[ sca_t ] * (1 - ( hce_hl[ hce_t ] / ( ibn * sca_ap[sca_t] / sca_len[sca_t] ) ));
	}

	if (total_len != 0.0)
		derate = derate/total_len;
	else
		derate = -777.7;

	return derate;
};



equations{ 'solar_mult' } = define() {
	return ?${radio_sm_or_area}
[
	${specified_solar_multiple},
	${total_aperture}/${total_required_aperture_for_SM1}
]; };

equations{ 'total_aperture' } = define() {
	return ${single_loop_aperature} * ${nLoops}; };

equations{ 'required_number_of_loops_for_SM1' } = define() {
	return ${total_required_aperture_for_SM1}/${single_loop_aperature}; };

equations{ 'total_loop_conversion_efficiency' } = define() {
	return ${loop_optical_efficiency}*${cspdtr_loop_hce_heat_loss}; 
};

equations{ 'loop_optical_efficiency' } = define() {
	aLoopCtl = ${trough_loop_control};
	if (#aLoopCtl != aLoopCtl[0]*3+1) return -888.8;
	ncol = aLoopCtl[0];

	// sca efficiency
	sca_eff[0] = ${csp_dtr_sca_calc_sca_eff_1};
	sca_eff[1] = ${csp_dtr_sca_calc_sca_eff_2};
	sca_eff[2] = ${csp_dtr_sca_calc_sca_eff_3};
	sca_eff[3] = ${csp_dtr_sca_calc_sca_eff_4};

	sca_len[0] = ${csp_dtr_sca_length_1};
	sca_len[1] = ${csp_dtr_sca_length_2};
	sca_len[2] = ${csp_dtr_sca_length_3};
	sca_len[3] = ${csp_dtr_sca_length_4};

	total_len = 0;
	weighted_sca_eff = 0.0;
	for (i=0;i<ncol;i++)
	{
		sca_t = min(max(aLoopCtl[1+i*3],1),4) - 1;
		total_len = total_len + sca_len[ sca_t ];
		weighted_sca_eff = weighted_sca_eff + sca_len[ sca_t ] * sca_eff[ sca_t ];
	}

	if (total_len != 0.0)
		weighted_sca_eff = weighted_sca_eff/total_len;
	else
		weighted_sca_eff = -777.7;

	// hce efficiency
	hce_eff[0] = ${csp_dtr_hce_optical_eff_1};
	hce_eff[1] = ${csp_dtr_hce_optical_eff_2};
	hce_eff[2] = ${csp_dtr_hce_optical_eff_3};
	hce_eff[3] = ${csp_dtr_hce_optical_eff_4};

	total_len = 0;
	weighted_hce_eff = 0.0;
	for (i=0;i<ncol;i++)
	{
		hce_t = min(max(aLoopCtl[2+i*3],1),4) - 1;
		sca_t = min(max(aLoopCtl[1+i*3],1),4) - 1;
		total_len = total_len + sca_len[ sca_t ];
		weighted_hce_eff = weighted_hce_eff + sca_len[ sca_t ] * hce_eff[ hce_t ];
	}

	if (total_len != 0.0)
		weighted_hce_eff = weighted_hce_eff/total_len;
	else
		weighted_hce_eff = -777.7;

	return weighted_hce_eff*weighted_sca_eff; 
};


equations{ 'field_thermal_output' } = define() {
	return ${solar_mult}*${P_ref}/${eta_ref}; 
};

equations{ 'total_required_aperture_for_SM1' } = define() {
	return ${P_ref}/${eta_ref}/( ${I_bn_des}*${total_loop_conversion_efficiency} )*1000000.0; 
};

equations{ 'total_land_area' } = define() {
	return ${fixed_land_area} * ${non_solar_field_land_area_multiplier};
};


//max_collector_width defined on Physical Trough Collector Header page
equations{ 'fixed_land_area' } = define() {
	return ${total_aperture} * ${Row_Distance} / ${max_collector_width} * 0.0002471;
};

equations{ 'SCAInfoArray' } = define() {
	a = ${trough_loop_control};
	assemblies = a[0];
	for (i=0; i<assemblies; i++)	{
		//8.4.2016 twn: Switched column numbers
		p1[i][1] = a[1+3*i];
		p1[i][0] = a[2+3*i];
	}

	return p1;
};

equations{ 'SCADefocusArray' } = define() {
	a = ${trough_loop_control};
	assemblies = a[0];
	for (i=0; i<assemblies; i++)	{
		p1[i] = a[3+3*i];
	}

	return p1;
};


3594
on_load{'Physical Trough Solar Field'} = define() {
	on_change{'combo_htf_type'}();
	on_change{'trough_loop_control'}();
	on_change{'radio_sm_or_area'}();

	//msgbox("value of 'assemblies_per_loop' is '" + ${assemblies_per_loop} + "'.");
	//msgbox("value of 'loop_optical_efficiency' is '" + ${loop_optical_efficiency} + "'.");
};

on_change{'radio_sm_or_area'} = define() 
{
  state = value('radio_sm_or_area');
  enable ('specified_solar_multiple', state == 0);
  enable ('specified_total_aperture', state == 1);
};

function cspdtr_solf_userhtf_dens(temperatureC) {
	// density is property 2
	return cspdtr_solf_userhtf(2, temperatureC);
}

function cspdtr_solf_userhtf(col, temperatureC) {
	aUserDefHTF = value("field_fl_props");
	
	rows = #aUserDefHTF;
	cols = #aUserDefHTF[0];

	if (cols != 7 || rows < 2 || col < 0 || col >= 7) return 1.0;
	for (i=1;i<rows;i++)
	{
		if (aUserDefHTF[i][0] >= temperatureC)
		{
			/* interp and return */
			xmin = aUserDefHTF[i-1][0];
			xmax = aUserDefHTF[i][0];
			ymin = aUserDefHTF[i-1][col];
			ymax = aUserDefHTF[i][col];
			if (xmax <= xmin) return 1.0;

			percent = (temperatureC-xmin)/(xmax-xmin);
			return ymin + percent*(ymax-ymin);
		}
	}

	return aUserDefHTF[rows-1][col];
}

on_change{'combo_htf_type'} = define() {

    bUserDefined = (value('combo_htf_type') == 9);
    enable("field_fl_props", bUserDefined);
    enable('field_htf_min_operating_temp',!bUserDefined);
    enable('field_htf_max_operating_temp',!bUserDefined);
    
	// outlet temp and max field flow velocity
	if (${combo_htf_type} < 9 )
		fluid_dens_outlet_temp = substance_density( ${Fluid}, ${T_loop_out} );
	else
		fluid_dens_outlet_temp = cspdtr_solf_userhtf_dens( ${T_loop_out} );

	value('fluid_dens_outlet_temp',fluid_dens_outlet_temp);
	//max_field_flow_velocity = ${m_dot_htfmax}*4/(fluid_dens_outlet_temp * pi() * pow( ${min_inner_diameter},2) );
	//value('max_field_flow_velocity',max_field_flow_velocity);

	// inlet temp and min field flow velocity
	if (${combo_htf_type} < 9 )
		fluid_dens_inlet_temp = substance_density( ${Fluid}, ${T_loop_in_des} );
	else
		fluid_dens_inlet_temp = cspdtr_solf_userhtf_dens( ${T_loop_in_des} );

	value('fluid_dens_inlet_temp',fluid_dens_inlet_temp);
	//min_field_flow_velocity = ${m_dot_htfmin}*4/(fluid_dens_inlet_temp * pi() * pow(${min_inner_diameter},2) );
	//value('min_field_flow_velocity',min_field_flow_velocity);
	
	// max operating temp
	field_htf_max_operating_temp = ?${combo_htf_type}
	[
		593,/* fluid num 18 */
		315,/* fluid num 19 */
		500,/* fluid num 20 */
		400,/* fluid num 21 */
		538,/* fluid num 22 */
		330,/* fluid num 23 */
		330,/* fluid num 24 */
		315,/* fluid num 30 */
		345,/* fluid num 29 */
		0   /* user fluid */
	];
	value('field_htf_max_operating_temp',field_htf_max_operating_temp);
	
	// min operating temp
	field_htf_min_operating_temp = ?${combo_htf_type}
	[
		238, /* fluid num 18 */
		-12, /* fluid num 19 */
		120, /* fluid num 20 */
		12,  /* fluid num 21 */
		142, /* fluid num 22 */
		-35, /* fluid num 23 */
		0,   /* fluid num 24 */
		-45, /* fluid num 30 */
		0,   /* fluid num 29 */
		0    /* user fluid */
	];
	value('field_htf_min_operating_temp',field_htf_min_operating_temp);
	
	hx_derate_update_module();
};

on_change{"field_fl_props"} = define(){
	hx_derate_update_module();

};

on_change{'trough_loop_control'} = define() {
	//msgbox("assemblies_per_loop updated");

	aLoopCtl = ${trough_loop_control};
	if (#aLoopCtl != aLoopCtl[0]*3+1)
		msgbox('Array from loop control has inconsistent values. (#values != array[0]*3+1)');
	value('nSCA',aLoopCtl[0]);
};

