Battery Thermal
999
430
14
Numeric

1
16
Name
5
6
T_room
X
3
195
Y
3
159
Width
3
36
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
GroupBox

1
7
Name
5
14
Thermal Group 
X
3
9
Y
3
3
Width
3
985
Height
3
422
Caption
5
16
Thermal Behavior
Bold
2
1
Numeric

1
16
Name
5
7
batt_Cp
X
3
138
Y
3
51
Width
3
51
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
17
batt_h_to_ambient
X
3
129
Y
3
120
Width
3
54
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
9
batt_mass
X
3
492
Y
3
309
Width
3
90
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
29
batt_specific_energy_per_mass
X
3
237
Y
3
309
Width
3
90
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
31
batt_specific_energy_per_volume
X
3
237
Y
3
336
Width
3
90
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
11
batt_volume
X
3
492
Y
3
336
Width
3
90
Height
3
24
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Image

1
7
Name
5
21
battery_thermal_image
X
3
66
Y
3
36
Width
3
198
Height
3
123
Image
7
Battery Thermal_battery_thermal_image.png
Centered
2
1
DataMatrix

1
22
Name
5
11
cap_vs_temp
X
3
330
Y
3
21
Width
3
277
Height
3
255
PasteAppendRows
2
1
PasteAppendCols
2
0
ShowRows
2
1
ShowRowLabels
2
0
RowLabels
5
0
ShadeR0C0
2
0
ShadeC0
2
0
ShowCols
2
0
ShowColLabels
2
1
ColLabels
5
20
Temp (C),Capacity(%)
NumRowsLabel
5
5
Rows:
NumColsLabel
5
5
Cols:
Layout
3
1
ChoiceColumn
3
4294967295
Choices
5
15
Choice1,Choice2
HideColumn
3
4294967295
ShowColumn
3
4294967295
Divider

1
9
Name
5
9
object 22
X
3
27
Y
3
282
Width
3
582
Height
3
34
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
19
Physical properties
Bold
2
1
Plot

1
5
Name
5
16
plot_cap_vs_temp
X
3
618
Y
3
21
Width
3
322
Height
3
303
Label

1
12
Name
5
19
thermal_model_label
X
3
36
Y
3
372
Width
3
906
Height
3
45
Caption
5
219
This section does not model power used for thermal conditioning. If the battery requires operation of heating or cooling equipment, the associated electricity use can be entered in the ‘Additional System Losses’ section
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Label

1
12
Name
5
20
thermal_model_label5
X
3
18
Y
3
186
Width
3
306
Height
3
90
Caption
5
145
Model assumes battery with specific heat Cp sits in room of fixed temperature.  Heat transfer to room proportional to heat transfer coefficient h
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1

11
T_room
3
1
Room temperature
C
Battery
0
2
1
1
1
1
20.000000
Numeric
batt_Cp
3
1
Cp
J/KgK
Battery
0
2
1
1
1
1
4183.000000
Numeric
batt_h_to_ambient
3
1
h
W/m2K
Battery
0
2
1
1
1
1
5.000000
Numeric
batt_height
3
1
Battery height
m
Battery
0
10
1
1
1
1
0.425000
Numeric
batt_length
3
1
Battery length
m
Battery
0
10
1
1
1
1
0.250000
Numeric
batt_mass
3
1
Battery mass
kg
Battery
0
8
1
1
1
1
56.000000
Numeric
batt_specific_energy_per_mass
3
1
Specific energy per mass
Wh/kg
Battery
0
2
1
1
1
1
150.000000
Numeric
batt_specific_energy_per_volume
3
1
Specific energy per volume
Wh/L
Battery
0
2
1
1
1
1
300.000000
Numeric
batt_volume
3
1
Battery volume
m3
Battery
0
8
1
1
1
1
0.001000
Numeric
batt_width
3
1
Battery width
m
Battery
0
10
1
1
1
1
0.181000
Numeric
cap_vs_temp
3
3
Capacity vs temperature
 
Battery
0
1
1
3
4
2
-15.000000 65.000000 
0.000000 85.000000 
25.000000 100.000000 
40.000000 104.000000 

DataArray

528
equations{'batt_mass'} = define()
{
	return (${batt_computed_bank_capacity}*1000)/${batt_specific_energy_per_mass};
};
equations{'batt_volume'} = define()
{
	// m3
	return ${batt_computed_bank_capacity}/${batt_specific_energy_per_volume};
};
equations{'batt_length'} = define()
{
	// assume cube
	return pow(${batt_volume},0.3333333);
};
equations{'batt_width'} = define()
{
	// assume cube
	return pow(${batt_volume},0.3333333);
};
equations{'batt_height'} = define()
{
	// assume cube
	return pow(${batt_volume},0.3333333);
};
595
on_load{'Battery Thermal'} = define() {
	on_change{'cap_vs_temp'}(); // update the plot
};

on_change{ 'cap_vs_temp' } = define() {

	setplot( 'plot_cap_vs_temp' );
	
	cvt = ${cap_vs_temp};
	for( i=0;i<#cvt;i++ ) {
		T[i] = cvt[i][0];
		C[i] = cvt[i][1];
	}
	
	Tmin = min(T);
	Tmax = max(T);
	Tadj = 0.1*(Tmax-Tmin);
	
	clearplot();
	plot( T, C, {'thick'=2, 'type'='line', 'color'='blue'});
	plotopt( {'title'='Capacity fade', 'legend'=false });
	axis( 'x1', {'label'='Temperature (C)', 'min'=Tmin-Tadj, 'max'=Tmax+Tadj});
	axis( 'y1', {'label'='Effective capacity (%)', 'min'=0, 'max'=110});
};